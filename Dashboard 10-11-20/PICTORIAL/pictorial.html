<!-- Styles -->
<style>
    #chartdiv {
      width: 100%;
      height: 600px;
    }
    </style>
    
    <!-- Resources -->
    <script src="https://cdn.amcharts.com/lib/4/core.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/charts.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/themes/material.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/lang/de_DE.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/geodata/germanyLow.js"></script>
    <script src="https://cdn.amcharts.com/lib/4/fonts/notosans-sc.js"></script>
    <script src="pictorial.js"></script>
    <script src="pictorial.css"></script>
    
    <!-- Chart code -->
    <script>
    am4core.ready(function() {
    
    // Themes begin
    // am4core.useTheme(am4themes_animated);
    // Themes end
    
    var iconPath = "M64,12.68a16.49,16.49,0,0,1,5.7,1,1,1,0,0,0,.34.06,1,1,0,0,0,.34-1.94A18.43,18.43,0,0,0,64,10.68a1,1,0,0,0,0,2Z M46.8,24.75a1,1,0,0,0,.32.06,1,1,0,0,0,1-.68,17,17,0,0,1,10.65-10.6,1,1,0,0,0-.63-1.9A19,19,0,0,0,46.18,23.48,1,1,0,0,0,46.8,24.75Z M64,47.82a3.25,3.25,0,1,0-3.25-3.25A3.26,3.26,0,0,0,64,47.82Zm0-4.5a1.25,1.25,0,1,1-1.25,1.25A1.25,1.25,0,0,1,64,43.32Z M82.34,45.75a3.25,3.25,0,1,0-3.25-3.25A3.26,3.26,0,0,0,82.34,45.75Zm0-4.5a1.25,1.25,0,1,1-1.25,1.25A1.25,1.25,0,0,1,82.34,41.25Z M45.66,45.75a3.25,3.25,0,1,0-3.25-3.25A3.26,3.26,0,0,0,45.66,45.75Zm0-4.5a1.25,1.25,0,1,1-1.25,1.25A1.25,1.25,0,0,1,45.66,41.25Z M31.21,58.55c-9.5-2.06-12.88-4.55-12.88-6.18a1,1,0,1,0-2,0c0,3.31,4.86,6.05,14.46,8.13a.75.75,0,0,0,.21,0,1,1,0,0,0,.21-2Z M104.83,46.39a1,1,0,1,0-.7,1.87c3.52,1.33,5.54,2.83,5.54,4.11,0,4.31-18.76,9.12-45.67,9.12a1,1,0,0,0,0,2c23.11,0,47.67-3.9,47.67-11.12C111.67,50.11,109.37,48.1,104.83,46.39Z M96.77,39.9V28.81s0-.09,0-.13a2.83,2.83,0,0,0,0-.29c0-2.45-2.79-4.51-8.3-6.12a25.44,25.44,0,0,0-48.94,0c-5.51,1.61-8.3,3.67-8.3,6.12a2.83,2.83,0,0,0,0,.29s0,.08,0,.13V39.9c-9.51,1.49-30,5.68-30,14.15C1.22,59,8.51,63,19.48,65.77c1,6.43,23.38,9.9,44.52,9.9s43.55-3.47,44.52-9.9c11-2.81,18.26-6.79,18.26-11.72C126.78,45.59,106.29,41.39,96.77,39.9ZM33.23,31.64c4.92,3.73,18.15,5.71,30.77,5.71s25.85-2,30.77-5.71V45.78c0,2.91-11.7,7-30.77,7s-30.77-4.06-30.77-7Zm61.54-3.25c0,1.16-1.87,2.5-5.32,3.7V29.24A25.24,25.24,0,0,0,89,24.53C93.22,25.92,94.77,27.4,94.77,28.39ZM64,5.79A23.48,23.48,0,0,1,87.45,29.24v3.45s0,0,0,0C82.14,34.22,74.1,35.35,64,35.35s-18.14-1.13-23.46-2.64c0,0,0,0,0,0V29.24A23.48,23.48,0,0,1,64,5.79ZM39,24.53a25.24,25.24,0,0,0-.44,4.71v2.85c-3.45-1.2-5.32-2.54-5.32-3.7C33.23,27.4,34.78,25.92,39,24.53ZM64,73.67c-23.9,0-39.44-4-42.15-7.32C33.59,69.06,48.92,70.54,64,70.54s30.41-1.48,42.15-4.19C103.44,69.68,87.9,73.67,64,73.67Zm0-5.13C27.64,68.54,3.22,61,3.22,54.05c0-4.7,11-9.42,28-12.12v3.85c0,5.83,16.88,9,32.77,9s32.77-3.14,32.77-9V41.93c17,2.7,28,7.42,28,12.12C124.78,61,100.36,68.54,64,68.54Z M36.16,104.25,29.92,117.5a1,1,0,0,0,.47,1.33,1,1,0,0,0,.43.1,1,1,0,0,0,.9-.57L38,105.1a1,1,0,0,0-1.81-.85Z M48,81.38a1,1,0,0,0-1.33.48l-2.3,4.87a1,1,0,0,0,.48,1.33,1.11,1.11,0,0,0,.43.09,1,1,0,0,0,.9-.57l2.3-4.87A1,1,0,0,0,48,81.38Z M91.4,105.66a1,1,0,0,0-.48,1.34l5.36,11.36a1,1,0,0,0,.9.57,1,1,0,0,0,.43-.1,1,1,0,0,0,.48-1.33l-5.36-11.36A1,1,0,0,0,91.4,105.66Z M84.74,92.53a.94.94,0,0,0,.43-.1,1,1,0,0,0,.48-1.33l-4.36-9.24a1,1,0,0,0-1.81.85L83.84,92A1,1,0,0,0,84.74,92.53Z M38.45,80a1,1,0,0,0-1.38.31L10.34,122.68a1,1,0,0,0,.31,1.38,1,1,0,0,0,.54.15,1,1,0,0,0,.84-.46L38.76,81.38A1,1,0,0,0,38.45,80Z M116.81,124.21a1,1,0,0,0,.54-.15,1,1,0,0,0,.31-1.38L90.93,80.31A1,1,0,0,0,89.55,80a1,1,0,0,0-.31,1.38L116,123.75A1,1,0,0,0,116.81,124.21Z M46.51,95.48V96a3.93,3.93,0,0,0,2.93,3.8v3a7,7,0,0,0,5.08,6.75V120a1,1,0,0,0,1,1h2.95a1,1,0,0,0,.91-.6l2.53-5.72H72.8l4.82,6a1,1,0,0,0,.78.37h2.1a1,1,0,0,0,1-1V106.23a6.1,6.1,0,0,0-1-3.3,2.9,2.9,0,0,1,2.16-1.37,1,1,0,0,0-.28-2,5,5,0,0,0-3.27,1.81,6.18,6.18,0,0,0-3.83-1.33H62.88v-.24A3.94,3.94,0,0,0,65.81,96v-.53a1,1,0,0,0-1-1H62.22A4.21,4.21,0,0,0,63,92.42a1,1,0,0,0-2-.17,2.85,2.85,0,0,1-1.78,2.22H53.1a2.84,2.84,0,0,1-1.77-2.22,1,1,0,1,0-2,.17,4.29,4.29,0,0,0,.75,2.06H47.51A1,1,0,0,0,46.51,95.48Zm28.81,6.57a4.18,4.18,0,0,1,4.18,4.18V119h-.63l-4.81-6a1,1,0,0,0-.78-.37h-12a1,1,0,0,0-.91.59L57.82,119h-1.3v-9.3A6.7,6.7,0,0,0,62.88,103v-1ZM63.75,96.48a1.93,1.93,0,0,1-1.87,1.46,1,1,0,0,0-1,1V103A4.73,4.73,0,0,1,56,107.72a4.88,4.88,0,0,1-4.57-5V98.94a1,1,0,0,0-1-1,2,2,0,0,1-1.88-1.46Z M53.33,101.67a1.09,1.09,0,0,0,.39.08,1,1,0,0,0,.7-1.71A1,1,0,0,0,53,100a1,1,0,0,0,0,1.42A1,1,0,0,0,53.33,101.67Z M57.68,101.67a1,1,0,0,0,.38.08,1,1,0,0,0,.71-.29,1,1,0,0,0,.29-.71.68.68,0,0,0,0-.2,1.21,1.21,0,0,0,0-.18,1,1,0,0,0-.1-.17.61.61,0,0,0-.12-.16,1,1,0,0,0-1.09-.21,1.15,1.15,0,0,0-.33.21,1,1,0,0,0,0,1.42A1.15,1.15,0,0,0,57.68,101.67Z";
    
    var chart = am4core.create("chartdiv", am4charts.SlicedChart);
    chart.paddingTop = am4core.percent(10);
    
    var series = chart.series.push(new am4charts.PictorialStackedSeries());
    series.dataFields.value = "value";
    series.dataFields.category = "name";
    series.startLocation = 0.3
    series.endLocation = 0.85
    
    series.slicesContainer.background.fill = am4core.color("#0707")
    series.slicesContainer.background.fillOpacity = 0.2;
    
    series.maskSprite.path = iconPath;
    
    series.labelsContainer.width = am4core.percent(100);
    series.alignLabels = true;
    series.slices.template.propertyFields.fill = "color";
    series.slices.template.propertyFields.stroke = "color";
    
    var gradientModifier = new am4core.LinearGradientModifier();
    gradientModifier.lightnesses = [0.2, -0.7];
    series.slices.template.fillModifier = gradientModifier;
    series.slices.template.strokeModifier = gradientModifier;
    
    // this makes the fills to start and end at certain location instead of taking whole picture
    series.endLocation = 0.553;
    series.startLocation = 0.1;
    // this makes initial fill animation
    series.hiddenState.properties.startLocation = 0.553;
    series.ticks.template.locationX = 0.7;
    series.labelsContainer.width = 120;
    
    var sliderContainer = chart.createChild(am4core.Container);
    sliderContainer.marginTop = am4core.percent(5);
    sliderContainer.width = am4core.percent(80);
    sliderContainer.align = "center";
    sliderContainer.paddingRight = 120;
    
    
    var label = sliderContainer.createChild(am4core.Label);
    label.text = "Move Me!";
    label.dy = -30;
    label.fill = am4core.color("#3909");
    label.isMeasured = false;
    label.fontWeight = "300";
    
    var slider = sliderContainer.createChild(am4core.Slider);
    slider.start = 0;
    slider.background.fill = am4core.color("#070");
    slider.background.fillOpacity = 0.2;
    
    // doing it later for animation to finish
    setTimeout(initSlider, 1500);
    
    function initSlider(){
        slider.events.on("rangechanged", function(){
            series.startLocation = 0.1 + (0.553 - 0.1) * slider.start;
            series.dataItems.getIndex(0).value = (1 - slider.start) * 200;
            slider.background.fill = new am4core.Color(am4core.colors.interpolate(am4core.color("#070").rgb, am4core.color("#7b1").rgb, slider.start));
            slider.background.fillOpacity = 0.2 + slider.start * 0.8;
    
            blurFilter.blur = slider.start * 5;
        })
    }
    ///////////////////////////////////////////////////////////
    // Title of chart info
    var title = chart.createChild(am4core.Label);
    title.text = "Amount of Sightings Per Time Period"
    title.fontSize = 30;
    title.fill = am4core.color("#390");
    title.isMeasured = false;
    title.x = am4core.percent(100);
    title.horizontalCenter = "right";
    title.fontWeight = "600";
    
    ///////////////////////////////////////////////////////////
    //Filter info for chart
    let blurFilter = new am4core.BlurFilter();
    blurFilter.blur = 0;
    title.filters.push(blurFilter);
    
    }); // end am4core.ready()
    </script>
    
    <!-- HTML -->
    <div id="chartdiv"></div>